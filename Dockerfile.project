FROM boilerplate/ci:latest

WORKDIR /project

# Copy up existing node_modules
COPY node_modules .

# Install dependencies
COPY package*.json ./
RUN npm install

# Lint, test and build app
COPY . ./
RUN npm run lint
RUN npm run test
RUN npm run build
